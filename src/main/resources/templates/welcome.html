<!DOCTYPE>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Title</title>
</head>
<body>

    <h3>Welcome</h3>
    <hr />
    <table>
        <tr>
            <td>
                name:
            </td>
            <td th:text="*{user.name}">
            </td>
        </tr>
        <tr>
            <td>
                lastname:
            </td>
            <td th:text="*{user.lastName}">
            </td>
        </tr>
        <tr>
            <td>
                username:
            </td>
            <td th:text="*{user.userName}">
            </td>
        </tr>
        <tr>
            <td>
                role:
            </td>
            <td th:text="*{user.authorityType.toString()}">
            </td>
        </tr>
    </table>

    <div th:if="${user.authorityType == T(com.kucess.notebook.model.entity.AuthorityType).ADMIN}">
        <h4>Employees</h4>
        <table>
            <tr>
                <td>name</td>
                <td>lastname</td>
                <td>username</td>
                <td>activities</td>
                <td>delete</td>
            </tr>
            <tr th:each="emp: ${employees}">
                <td th:text="${emp.name}"></td>
                <td th:text="${emp.lastName}"></td>
                <td th:text="${emp.userName}"></td>
                <td>
                    <a th:href="@{/notebook/v1/employees/{userName}/activities(userName=${emp.userName})}">activities</a>
                </td>
                <td>
                    <form th:method="post"
                          th:action="@{/notebook/v1/employees/{userName}(userName=${emp.userName})}">
                        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                        <input type="submit" value="delete">
                    </form>
                </td>
            </tr>
        </table>

        <a th:href="@{/notebook/v1/employees}">Add new employee</a>
        <form method="post" th:action="@{/notebook/v1/employees/insertCurrent}">
            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
            <label>
                <input type="text" name="userName">
            </label>
            <input type="submit" value="add">
        </form>

    </div>
    <div th:if="${user.authorityType == T(com.kucess.notebook.model.entity.AuthorityType).EMPLOYEE}">
        Hello user
        <table>
            <tr>
                <td>activity name</td>
                <td>activity description</td>
                <td>activity score</td>
                <td>admin username</td>
            </tr>
            <tr th:each="act: ${activities}">
                <td th:text="*{act.activityName}"></td>
                <td th:text="*{act.activityDescription}"></td>
                <td th:text="*{act.score}"></td>
                <td th:text="*{act.admin.userName}"></td>
            </tr>
        </table>
    </div>
</body>
</html>